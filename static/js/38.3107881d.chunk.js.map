{"version":3,"file":"static/js/38.3107881d.chunk.js","mappings":"sRAEMA,EAAW,gCACXC,EAAM,mCAGCC,EAAa,WACxB,OAAOC,EAAAA,EAAAA,IAAU,GAADC,OAAIJ,GAAQI,OAHZ,qBAGwB,aAAAA,OAAYH,GACtD,EAEaI,EAAgB,SAAAC,GAC3B,OAAOH,EAAAA,EAAAA,IAAU,GAADC,OAAIJ,EAAQ,UAAAI,OAASE,EAAE,aAAAF,OAAYH,GACrD,EAEaM,EAAe,SAACC,EAAOC,GAClC,OAAON,EAAAA,EAAAA,IAAU,GAADC,OACXJ,EAAQ,yBAAAI,OAAwBH,EAAG,WAAAG,OAAUI,EAAK,WAAAJ,OAAUK,GAEnE,EAEaC,EAAe,SAAAJ,GAC1B,OAAOH,EAAAA,EAAAA,IAAU,GAADC,OAAIJ,EAAQ,UAAAI,OAASE,EAAE,qBAAAF,OAAoBH,GAC7D,EAEaU,EAAiB,SAAAL,GAC5B,OAAOH,EAAAA,EAAAA,IAAU,GAADC,OAAIJ,EAAQ,UAAAI,OAASE,EAAE,qBAAAF,OAAoBH,GAC7D,C,sDCzBA,MAA+B,mCCA/B,EAAmC,4CAAnC,EAAuG,iDAAvG,EAAmK,oCAAnK,EAAmN,qC,mCCyBnN,EAtB0B,SAAHW,GAA4B,IAAtBC,EAAKD,EAALC,MAAOC,EAAGF,EAAHE,IAAKR,EAAEM,EAAFN,GAE/BS,GAAWC,EAAAA,EAAAA,MACnB,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAAA,MAAaG,UAAWC,EAAqBF,UAC3CG,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CACHC,GAAE,WAAApB,OAAaE,GACfmB,MAAO,CAAEC,KAAMX,GACfK,UAAWC,EAAcF,SAAA,EAEzBF,EAAAA,EAAAA,KAAA,OACEG,UAAWC,EACXM,IAAKb,EAZA,iDAYeA,EAAMc,EAC1BC,IAAKhB,KAEPI,EAAAA,EAAAA,KAAA,KAAGG,UAAWC,EAAaF,SAAEN,QAXxBP,IAgBf,ECrBe,SAASwB,EAAYlB,GAAa,IAEzCmB,EAFoCnB,EAALoB,MAEfC,KAAI,SAAAC,GAAA,IAAG5B,EAAE4B,EAAF5B,GAAI6B,EAAKD,EAALC,MAAOC,EAAWF,EAAXE,YAAW,OACjDnB,EAAAA,EAAAA,KAACoB,EAAiB,CAAWxB,MAAOsB,EAAOrB,IAAKsB,EAAa9B,GAAIA,GAAzCA,EAA+C,IAGzE,OAAOW,EAAAA,EAAAA,KAAA,MAAIG,UAAWC,EAAiBF,SAAEY,GAC3C,C,mECVA,EAA0B,wB,SCsB1B,EAnBa,WAET,OACEd,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAYF,UAE1BF,EAAAA,EAAAA,KAACqB,EAAAA,GAAM,CACLC,OAAO,KACPC,MAAM,KACNC,MAAM,UACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,iBACbC,SAAS,KAKnB,C,+ICpBA,EAA4B,6BAA5B,EAAsE,8BAAtE,EAAwH,qCAAxH,EAAuL,2CAAvL,EAAqP,oC,iBCwDrP,EApDkB,SAAHjC,GAAmB,IAAdkC,EAAQlC,EAARkC,SAElBC,GAA0BC,EAAAA,EAAAA,UAAS,CAACC,OAAO,KAAIC,GAAAC,EAAAA,EAAAA,GAAAJ,EAAA,GAAxCtB,EAAKyB,EAAA,GAAGE,EAAQF,EAAA,GACjBG,GAAWC,EAAAA,EAAAA,WAEjBC,EAAAA,EAAAA,YAAU,WAAKF,EAASG,QAAQC,OAAQ,GAAE,IAuBxC,OACExC,EAAAA,EAAAA,KAAA,UAAQG,UAAWC,EAAcF,UAC/BG,EAAAA,EAAAA,MAAA,QAAMwB,SAbS,SAAAY,GACnBA,EAAEC,iBAC0B,KAAxBlC,EAAMwB,OAAOW,QAIjBd,EAASrB,EAAMwB,QACfG,EAAS,CAAEH,OAAQ,MAJjBY,EAAAA,GAAAA,MAAY,mCAKhB,EAKoCzC,UAAWC,EAAeF,SAAA,EACtDF,EAAAA,EAAAA,KAAA,UAAQ6C,KAAK,SAAS1C,UAAWC,EAAsBF,UACrDF,EAAAA,EAAAA,KAAA,QAAMG,UAAWC,EAA4BF,SAAC,cAGhDF,EAAAA,EAAAA,KAAA,SACE8C,IAAKV,EACLW,MAAOvC,EAAMwB,OACbgB,SA9Ba,SAAH/B,GAAoB,IAAdgC,EAAMhC,EAANgC,OACdC,EAAgBD,EAAhBC,KAAMH,EAAUE,EAAVF,MACdZ,GAAS,SAAAgB,GAAS,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACbD,GAAS,IAAAE,EAAAA,EAAAA,GAAA,GACXH,EAAOH,GAAK,GAEjB,EAyBQ5C,UAAWC,EACXyC,KAAK,OACLS,aAAa,MACbC,WAAS,EACTL,KAAK,SACLM,YAAY,iCAKtB,E,mCCrDF,EAAsB,oBCStB,EARe,SAAH7D,GAAgD,IAA1C8D,EAAO9D,EAAP8D,QAAOC,EAAA/D,EAAEkD,KAAAA,OAAI,IAAAa,EAAG,SAAQA,EAAExD,EAAQP,EAARO,SAC1C,OACEF,EAAAA,EAAAA,KAAA,UAAQyD,QAASA,EAASZ,KAAMA,EAAM1C,UAAWC,EAAQF,SACtDA,GAGP,E,QC4DA,EA1De,WACb,IAAA4B,GAA8BC,EAAAA,EAAAA,UAAS,IAAGE,GAAAC,EAAAA,EAAAA,GAAAJ,EAAA,GAAnC6B,EAAO1B,EAAA,GAAE2B,EAAU3B,EAAA,GAC1B4B,GAAkC9B,EAAAA,EAAAA,WAAS,GAAM+B,GAAA5B,EAAAA,EAAAA,GAAA2B,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAA0BlC,EAAAA,EAAAA,UAAS,MAAKmC,GAAAhC,EAAAA,EAAAA,GAAA+B,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAiCtC,EAAAA,EAAAA,UAAS,IAAGuC,GAAApC,EAAAA,EAAAA,GAAAmC,EAAA,GAAtCE,EAAQD,EAAA,GAAEE,EAAYF,EAAA,GAC7BG,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAzC,EAAAA,EAAAA,GAAAuC,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAE9B3C,EAAS4C,EAAaE,IAAI,UAC1BtF,EAAOoF,EAAaE,IAAI,SAI9BxC,EAAAA,EAAAA,YAAU,WACR,IAAMyC,EAAU,eAAApF,GAAAqF,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEQjG,EAAAA,EAAAA,IAAa0C,EAAQxC,GAAM,KAAD,EAAA2F,EAAAE,EAAAG,KAAzCJ,EAAID,EAAJC,KACRxB,GAAW,SAAA6B,GAAW,IAAAC,EAAA,OACR,QAAZA,EAAAN,EAAKO,eAAO,IAAAD,GAAZA,EAAcE,OAAM,GAAAzG,QAAA0G,EAAAA,EAAAA,GAAOJ,IAAWI,EAAAA,EAAAA,GAAKT,EAAKO,UAAWF,CAAW,IAExEjB,EAAaY,EAAKU,aAClB9B,GAAa,GACRoB,EAAKW,eACRnD,EAAAA,GAAAA,MAAY,+DAADzD,OACiD6C,EAAM,yBAEnEqD,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAW,GAAAX,EAAA,SAEDjB,EAASiB,EAAAW,GAAMC,SAAS,QAEJ,OAFIZ,EAAAC,KAAA,GAExBtB,GAAa,GAAOqB,EAAAa,OAAA,6BAAAb,EAAAc,OAAA,GAAAjB,EAAA,yBAEvB,kBAlBe,OAAAvF,EAAAyG,MAAA,KAAAC,UAAA,KAmBZrE,GACF+C,GAEJ,GAAG,CAAC/C,EAAQxC,IAQZ,OACEa,EAAAA,EAAAA,MAAAJ,EAAAA,SAAA,CAAAC,SAAA,CACGiE,IAASnE,EAAAA,EAAAA,KAACsG,EAAAA,QAAQ,IAClBvC,IAAa/D,EAAAA,EAAAA,KAACuG,EAAAA,EAAM,KACrBvG,EAAAA,EAAAA,KAACwG,EAAS,CAAC3E,SAVU,SAAAG,GACvB4B,EAAW,IACXiB,EAAgB,CAAE7C,OAAAA,EAAQxC,KAAM,GAClC,KAQIQ,EAAAA,EAAAA,KAACa,EAAAA,EAAY,CAACE,MAAO4C,IACpBY,EAAW/E,IACVQ,EAAAA,EAAAA,KAACyG,EAAM,CAAChD,QATG,WAAH,OAASoB,EAAgB,CAAE7C,OAAAA,EAAQxC,KAAMkH,OAAOlH,GAAQ,GAAK,EAS1CqD,KAAK,SAAQ3C,SAAC,gBAMjD,ECjEA,EAAqB,wBCUrB,EARmB,WACjB,OACEF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAOF,UACrBF,EAAAA,EAAAA,KAAC2G,EAAM,KAGb,C,mECRA,OAAgB,IAAM,sBAAsB,MAAQ,yB,wECepD,EAZiB,WACb,OACMtG,EAAAA,EAAAA,MAAAJ,EAAAA,SAAA,CAAAC,SAAA,EAAEF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAAA,MAAUF,UAC1BF,EAAAA,EAAAA,KAAA,OAAKU,IAAKkG,EAAQhG,IAAI,QAAST,UAAWC,EAAAA,SACxCC,EAAAA,EAAAA,MAAA,OAAKF,UAAWC,EAAAA,aAAiBF,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,6HACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,0eACHF,EAAAA,EAAAA,KAACM,EAAAA,GAAI,CAACC,GAAG,IAAGL,SAAC,2BAG7B,C","sources":["components/Api/api.js","webpack://react-homework-template/./src/components/ImageGallery/ImageGallery.module.css?ece0","webpack://react-homework-template/./src/components/ImageGalleryItem/ImmageGalleryItem.module.css?945a","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","webpack://react-homework-template/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","components/Movies/Movies.jsx","webpack://react-homework-template/./src/pages/MoviesPage/movies-page.module.css?9b57","pages/MoviesPage/MoviesPage.jsx","webpack://react-homework-template/./src/pages/NotFound/NotFound.module.css?7579","pages/NotFound/NotFound.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = '4b0d88e4e438af6c90a79ac0bd3bce13';\nconst END_POINT = 'trending/movie/day';\n\nexport const getTrendig = () => {\n  return axios.get(`${BASE_URL}${END_POINT}?api_key=${KEY}`);\n};\n\nexport const getMoviesById = id => {\n  return axios.get(`${BASE_URL}movie/${id}?api_key=${KEY}`);\n};\n\nexport const searceMovies = (query, page) => {\n  return axios.get(\n    `${BASE_URL}search/movie?api_key=${KEY}&query=${query}&&page=${page}`\n  );\n};\n\nexport const getCoastById = id => {\n  return axios.get(`${BASE_URL}movie/${id}/credits?api_key=${KEY}`);\n};\n\nexport const getReviewsById = id => {\n  return axios.get(`${BASE_URL}movie/${id}/reviews?api_key=${KEY}`);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"ImageGallery\":\"ImageGallery_ImageGallery__1Glj-\"};","// extracted by mini-css-extract-plugin\nexport default {\"ImageGalleryItem\":\"ImmageGalleryItem_ImageGalleryItem__4wB2u\",\"ImageGalleryItemImage\":\"ImmageGalleryItem_ImageGalleryItemImage__CyyKA\",\"img_text\":\"ImmageGalleryItem_img_text__b+ByL\",\"link_text\":\"ImmageGalleryItem_link_text__0D+Z4\"};","import css from './ImmageGalleryItem.module.css';\nimport { Link , useLocation} from 'react-router-dom';\nimport noFoto from \"../ImageGallery/cat.jpg\"\n\nconst ImmageGalleryItem = ({ titel, img, id }) => {\n  const imgUrl = 'https://image.tmdb.org/t/p/w440_and_h660_face/';\n    const location = useLocation();\n  return (\n    <>\n      <li key={id} className={css.ImageGalleryItem}>\n        <Link\n          to={`/movies/${id}`}\n          state={{ from: location }}\n          className={css.link_text}\n        >\n          <img\n            className={css.ImageGalleryItemImage}\n            src={img ? imgUrl + img : noFoto}\n            alt={titel}\n          />\n          <p className={css.img_text}>{titel}</p>\n        </Link>\n      </li>\n    </>\n  );\n};\nexport default ImmageGalleryItem;\n","import css from './ImageGallery.module.css';\nimport ImmageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\n\nexport default function ImageGallery({ items }) {\n\n  const elemets = items.map(({ id, title, poster_path }) => (\n    <ImmageGalleryItem key={id}  titel={title} img={poster_path} id={id} />\n  ));\n\n  return <ul className={css.ImageGallery}>{elemets}</ul>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Loader_wrapper__2YrQT\"};","\nimport { Blocks } from 'react-loader-spinner';\nimport css from \"./Loader.module.css\"\n\nconst Loader=()=> {\n  \n    return (\n      <div className={css.wrapper}> \n        \n        <Blocks\n          height=\"80\"\n          width=\"80\"\n          color=\"#4fa94d\"\n          ariaLabel=\"blocks-loading\"\n          wrapperStyle={{}}\n          wrapperClass=\"blocks-wrapper\"\n          visible={true}\n        />\n      </div>\n    );\n  \n}\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__0FWoU\",\"SearchForm\":\"Searchbar_SearchForm__XuPyK\",\"searchForm_button\":\"Searchbar_searchForm_button__gWAX-\",\"searchForm_button_label\":\"Searchbar_searchForm_button_label__LCSTK\",\"searchForm_input\":\"Searchbar_searchForm_input__QuYHA\"};","import { useState , useRef, useEffect} from 'react';\nimport css from './Searchbar.module.css';\n\nimport { toast } from 'react-toastify';\n\nconst Searchbar = ({onSubmit}) =>{\n\n  const [state , setState]= useState({search:\"\"})\n  const inputRef = useRef();\n\n  useEffect(()=>{inputRef.current.focus();},[])\n\n\n    const handleChange = ({ target }) => {\n      const { name, value } = target;\n      setState(prevState => ({\n        ...prevState,\n        [name]: value,\n      }));\n    };\n\n\n  const handelSubmit = e => {\n    e.preventDefault();\n    if (state.search.trim() === '') {\n      toast.error('Enter text to search the gallery');\n      return;\n    }\n    onSubmit(state.search);\n    setState({ search: '' });\n  };\n\n\n    return (\n      <header className={css.searchbar}>\n        <form onSubmit={handelSubmit} className={css.SearchForm}>\n          <button type=\"submit\" className={css.searchForm_button}>\n            <span className={css.searchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            ref={inputRef}\n            value={state.search}\n            onChange={handleChange}\n            className={css.searchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            name=\"search\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n\n\nexport default Searchbar;\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Button_btn__RBtNK\"};","import css from './Button.module.css';\n\nconst Button = ({ onClick, type = 'submit', children }) => {\n  return (\n    <button onClick={onClick} type={type} className={css.btn}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport { toast } from 'react-toastify';\nimport { useEffect, useState } from 'react';\nimport { searceMovies } from 'components/Api/api';\nimport Loader from 'components/Loader/Loader';\nimport NotFound from 'pages/NotFound/NotFound';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Button from 'components/Button/Button';\nimport { useSearchParams } from 'react-router-dom';\nconst Movies = () => {\n  const [gallery, setGallery] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [totaPage, setTotalPage] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  \n\n  useEffect(() => {\n    const fetchQuery = async () => {\n      try {\n        const { data } = await searceMovies(search, page);\n        setGallery(prevGallery =>\n          data.results?.length ? [...prevGallery, ...data.results] : prevGallery\n        );\n        setTotalPage(data.total_pages);\n        setIsLoading(true);\n        if (!data.total_results) {\n          toast.error(\n            `❌Sorry, there are no Movies matching your search query ${search} . Please try again.`\n          );\n        }\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (search) {\n      fetchQuery();\n    }\n  }, [search, page]);\n\n  const handelSearchForm = search => {\n    setGallery([]);\n    setSearchParams({ search, page: 1 });\n  };\n  const LoadMore = () => setSearchParams({ search, page: Number(page) + 1 });\n\n  return (\n    <>\n      {error && <NotFound></NotFound>}\n      {isLoading && <Loader></Loader>}\n      <Searchbar onSubmit={handelSearchForm} />\n      <ImageGallery items={gallery} />\n      {totaPage > page && (\n        <Button onClick={LoadMore} type=\"button\">\n          Load more\n        </Button>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"bg\":\"movies-page_bg__D+6P4\"};","\nimport Movies from 'components/Movies/Movies';\nimport css from \"./movies-page.module.css\"\nconst MoviesPage = () => {\n  return (\n    <div className={css.bg}>\n      <Movies/>\n    </div>\n  );\n};\n\nexport default MoviesPage;","// extracted by mini-css-extract-plugin\nexport default {\"img\":\"NotFound_img__jWgJp\",\"error\":\"NotFound_error__hxUbn\"};","import css from \"./NotFound.module.css\"\nimport imgSrc  from \"./error404.png\"\nimport { Link } from \"react-router-dom\"\n\nconst NotFound = ()=> {\n    return (\n          <><div className={css.error}>\n            <img src={imgSrc} alt=\"error\"  className={css.img}/>\n        </div><div className={css.errorMessage}>\n                <h3>Ой! Страница не найдена!</h3>\n                <p>К сожалению мы не можем найти запрошенную вами страницу. Возможно, вы неправильно ввели адрес.</p>\n                <Link to=\"/\">  Go to Home Page</Link>\n            </div></>\n    )\n}\n\nexport default NotFound"],"names":["BASE_URL","KEY","getTrendig","axios","concat","getMoviesById","id","searceMovies","query","page","getCoastById","getReviewsById","_ref","titel","img","location","useLocation","_jsx","_Fragment","children","className","css","_jsxs","Link","to","state","from","src","noFoto","alt","ImageGallery","elemets","items","map","_ref2","title","poster_path","ImmageGalleryItem","Blocks","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","onSubmit","_useState","useState","search","_useState2","_slicedToArray","setState","inputRef","useRef","useEffect","current","focus","e","preventDefault","trim","toast","type","ref","value","onChange","target","name","prevState","_objectSpread","_defineProperty","autoComplete","autoFocus","placeholder","onClick","_ref$type","gallery","setGallery","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","_useState7","_useState8","totaPage","setTotalPage","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","fetchQuery","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$searceMovies","data","_context","prev","next","sent","prevGallery","_data$results","results","length","_toConsumableArray","total_pages","total_results","t0","message","finish","stop","apply","arguments","NotFound","Loader","Searchbar","Button","Number","Movies","imgSrc"],"sourceRoot":""}